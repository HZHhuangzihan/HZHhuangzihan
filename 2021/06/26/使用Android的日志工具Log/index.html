<!DOCTYPE html><html lang="zh-CN" class="loading"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><title>使用Android的日志工具Log - 黄子涵</title><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="google" content="notranslate"><meta name="keywords" content="黄子涵,"><meta name="description" content="掌握日志工具的使用使用Android的日志工具Log
Android中的日志工具类是Log（android.util.Log），这个类中提供了如下5个方法来供我们打印日志。

Log.v()
用于打,"><meta name="author" content="黄子涵"><link rel="alternative" href="atom.xml" title="黄子涵" type="application/atom+xml"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="/css/diaspora.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism-atom-dark.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script>
<script src="/js/prism-line-numbers.min.js"></script></head><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><body class="loading"><span id="config-title" style="display:none">黄子涵</span><div id="loader"></div><div id="single"><div id="top" style="display:block"><div class="bar" style="width:0"></div><a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://www.huangzihan.top"></a><div title="播放/暂停" class="iconfont icon-play"></div><h3 class="subtitle">使用Android的日志工具Log</h3><div class="social"><div><div class="share"><a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a></div><div id="qr"></div></div></div><div class="scrollbar"></div></div><div class="section"><div class="article"><div class="main"><h1 class="title">使用Android的日志工具Log</h1><div class="stuff"><span>六月 26, 2021</span></div><div class="content markdown"><h1 id="掌握日志工具的使用"><a href="#掌握日志工具的使用" class="headerlink" title="掌握日志工具的使用"></a>掌握日志工具的使用</h1><h2 id="使用Android的日志工具Log"><a href="#使用Android的日志工具Log" class="headerlink" title="使用Android的日志工具Log"></a>使用Android的日志工具Log</h2><blockquote><p>Android中的日志工具类是Log（android.util.Log），这个类中提供了如下5个方法来供我们打印日志。</p></blockquote><h3 id="Log-v"><a href="#Log-v" class="headerlink" title="Log.v()"></a>Log.v()</h3><blockquote><p>用于打印那些最为琐碎的、意义最小的日志信息。对应级别 verbose，是Android日志里面级别最低的一种。</p></blockquote><h3 id="Log-d"><a href="#Log-d" class="headerlink" title="Log.d()"></a>Log.d()</h3><blockquote><p>用于打印一些调试信息，这些信息对你调试程序和分析问题应该是有帮助的。对应级别debug，比verbose高一级。</p></blockquote><h3 id="Log-i"><a href="#Log-i" class="headerlink" title="Log.i()"></a>Log.i()</h3><blockquote><p>用于打印一些比较重要的数据，这些数据应该是你非常想看到的、可以帮你分析用户行为数据。对应级别info，比debug高一级。</p></blockquote><h3 id="Log-W"><a href="#Log-W" class="headerlink" title="Log.W()"></a>Log.W()</h3><blockquote><p>用于打印一些警告信息，提示程序在这个地方可能会有潜在的风险，最好去修复一下这些出现警告的地方。对应级别 warn，比info高一级。</p></blockquote><h3 id="Log-e"><a href="#Log-e" class="headerlink" title="Log.e()"></a>Log.e()</h3><blockquote><p>用于打印程序中的错误信息，比如程序进入到了catch语句当中。当有错误信息打印出来的时候，一般都代表你的程序出现严重问题了，必须尽快修复。对应级别error， 比 warn高一级。</p><p>其实很简单，一共就5个方法，当然每个方法还会有不同的重载，但肯定不是什么难理解的地方了。我们现在就在项目中试一试日志工具好不好用吧。</p></blockquote><span id="more"></span><blockquote><p>打开项目，在onCreate()方法中添加一行打印日志的语句，如下所示：</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">package com.example.myapplication;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.util.Log;

public class MainActivity extends AppCompatActivity &#123;

    @Override
    protected void onCreate(Bundle savedInstanceState) &#123;
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Log.d(&quot;HelloworldActivity&quot;,&quot;onCreate exeecute&quot;);
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Log-d-方法的参数"><a href="#Log-d-方法的参数" class="headerlink" title="Log.d()方法的参数"></a>Log.d()方法的参数</h3><blockquote><p>Log.d()方法中传入了两个参数:第一个参数是tag，一般传入当前的类名就好，主要用于对打印信息进行过滤；第二个参数是msg，即想要打印的具体的内容。</p></blockquote><h3 id="logcat中的打印信息"><a href="#logcat中的打印信息" class="headerlink" title="logcat中的打印信息"></a>logcat中的打印信息</h3><blockquote><p>运行一下项目，点击顶部工具栏上的运行按钮，或者使用快捷键Shift+Fl0（Mac系统是control+R），等程序运行完毕，点击Android Studio底部工具栏的Android Monitor，在logcat中就可以看到打印信息了，如图（logcat中的打印信息）所示。</p></blockquote><center><img src="/2021/06/26/%E4%BD%BF%E7%94%A8Android%E7%9A%84%E6%97%A5%E5%BF%97%E5%B7%A5%E5%85%B7Log/logcat中的打印信息.png" width="90%" height="90%"> logcat中的打印信息</center><blockquote><p>不仅可以看到打印日志的内容和tag名，就连程序的包名、打印的时间以及应用程序的进程号都可以看到。</p></blockquote><h2 id="为什么使用Log而不使用System-out"><a href="#为什么使用Log而不使用System-out" class="headerlink" title="为什么使用Log而不使用System.out"></a>为什么使用Log而不使用System.out</h2><blockquote><p>很多的Java新手都非常喜欢使用<strong>System.out.println()</strong>方法来打印日志，不知道你是不是也喜欢这么做。不过在真正的项目开发中，是极度不建议使用<strong>System.out.println()</strong>方法的！如果在公司的项目中经常使用这个方法，就很有可能要挨骂了。</p></blockquote><h3 id="System-out-println-方法的缺点"><a href="#System-out-println-方法的缺点" class="headerlink" title="System.out.println()方法的缺点"></a>System.out.println()方法的缺点</h3><blockquote><p>为什么<strong>System.out.println()</strong>方法会这么遭大家唾弃呢？这个方法除了使用方便一点之外，其他就一无是处了。方便在哪儿呢？在Eclipse中你只需要输入syso，然后按下代码提示键，这个方法就会自动出来了，相信这也是很多Java新手对它钟情的原因，不过遗憾的是，Android Studio中已经不支持这种快捷输入了。那缺点又在哪儿了呢？这个就太多了，比如日志打印不可控制、打印时间无法确定、不能添加过滤器、日志没有级别区分……</p><p>听我说了这些，你可能已经不太想用<strong>System.out.println()</strong>方法了，那么Log就把上面所说的缺点全部都改好了吗？虽然谈不上全部，但我觉得Log已经做得相当不错了。我现在就来带你看看Log和logcat配合的强大之处。</p><p>首先刚才提到的快捷输入，在Android Studio当中也是有的，比如你想打印一条debug级别的日志，那么只需要输入logd，然后按下Tab键，就会帮你自动补全一条完整的打印语句。输人logi，然后按下Tab键，会自动补全一条info级别的打印日志。输入logw，按下Tab键，会自动补全一条warn级别的打印日志，以此类推。另外，由于Log的所有打印方法都要求传入一个tag参数，每次写一遍显然太过麻烦。这里还有一个小技巧，我们在<strong>onCreate()</strong>方法的外面输入logt，然后按下Tab键，这时就会以当前的类名作为值自动生成一个TAG常量，如下所示:</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">package com.example.myapplication;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.util.Log;

public class MainActivity extends AppCompatActivity &#123;

    private static final String TAG &#x3D; &quot;huangzihan&quot;;
    @Override
    protected void onCreate(Bundle savedInstanceState) &#123;
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Log.d(&quot;HelloworldActivity&quot;,&quot;onCreate exeecute&quot;);
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="logcat的过滤器"><a href="#logcat的过滤器" class="headerlink" title="logcat的过滤器"></a>logcat的过滤器</h3><blockquote><p>除了快捷输入之外，logcat中还能很轻松地添加过滤器，你可以在图（logcat中的过滤器）中看到我们目前所有的过滤器。</p></blockquote><center><img src="/2021/06/26/%E4%BD%BF%E7%94%A8Android%E7%9A%84%E6%97%A5%E5%BF%97%E5%B7%A5%E5%85%B7Log/logcat中的过滤器.png" width="90%" height="90%"> logcat中的过滤器</center><h4 id="Show-only-selected-application"><a href="#Show-only-selected-application" class="headerlink" title="Show only selected application"></a>Show only selected application</h4><blockquote><p>表示只显示当前选中程序的日志,</p></blockquote><h4 id="Firebase"><a href="#Firebase" class="headerlink" title="Firebase"></a>Firebase</h4><blockquote><p>谷歌提供的一个分析工具，我们可以不用管它</p></blockquote><h4 id="No-Filters"><a href="#No-Filters" class="headerlink" title="No Filters"></a>No Filters</h4><blockquote><p>相当于没有过滤器，会把所有的日志都显示出来。</p></blockquote><h3 id="自定义过滤器"><a href="#自定义过滤器" class="headerlink" title="自定义过滤器"></a>自定义过滤器</h3><blockquote><p>那可不可以自定义过滤器呢？当然可以，我们现在就来添加一个过滤器试试。点击图（logcat中的过滤器）中的 Edit Filter Configuration，会弹出一个过滤器配置界面。我们给过滤器起名叫data，并且让它对名为data的tag进行过滤，如图（过滤器配置界面）所示</p></blockquote><center><img src="/2021/06/26/%E4%BD%BF%E7%94%A8Android%E7%9A%84%E6%97%A5%E5%BF%97%E5%B7%A5%E5%85%B7Log/过滤器配置界面.png" width="70%" height="70%"> 过滤器配置界面</center><blockquote><p>点击OK，你就会发现你已经多出了一个data过滤器。当你点击这个过滤器的时候，你会发现刚才在<strong>onCreate</strong>()方法里打印的日志没了，这是因为data这个过滤器只会显示tag名称为data的日志。你可以尝试在<strong>onCreate</strong>()方法中把打印日志的语句改成<strong>Log.d(“data”,”onCreate<br>execute”)</strong>，然后再次运行程序，你就会在data过滤器下看到这行日志了。</p><p>不知道你有没有体会到使用过滤器的好处，可能现在还没有吧。不过当你的程序打印出成百上千行日志的时候，你就会迫切地需要过滤器了。</p></blockquote><h3 id="logcat中的日志级别"><a href="#logcat中的日志级别" class="headerlink" title="logcat中的日志级别"></a>logcat中的日志级别</h3><blockquote><p>看完了过滤器，再来看一下logcat中的日志级别控制吧。logcat中主要有5个级别，分别对应着上一节介绍的5个方法，如图（logcat中的日志级别）所示。</p></blockquote><center><img src="/2021/06/26/%E4%BD%BF%E7%94%A8Android%E7%9A%84%E6%97%A5%E5%BF%97%E5%B7%A5%E5%85%B7Log/logcat中的日志级别.png" width="90%" height="90%"> logcat中的日志级别</center><blockquote><p>verbose是最低等级。这意味着不管我们使用哪一个方法打印日志，这条日志都一定会显示出来。如果将级别选中为debug，只有使用debug及以上级别方法打印的日志オ会显示出来，以此类推。你可以做一下试验，当你把logcat中的级别选中为info、 warn或者error时，我们在onCreate()方法中打印的语句是不会显示的，因为我们打印日志时使用的是Log.d()方法。</p><p>日志级别控制的好处就是，你可以很快地找到你所关心的那些日志。相信如果让你从上千行日志中査找一条崩溃信息，你一定会抓狂的吧。而现在你只需要将日志级别选中为error，那些不相干的琐碎信息就不会再干扰你的视线了。</p></blockquote><h3 id="关键字过滤"><a href="#关键字过滤" class="headerlink" title="关键字过滤"></a>关键字过滤</h3><blockquote><p>最后我们再来看一下关键字过滤。如果使用过滤器加日志级别控制还是不能锁定到你想查看的日志内容的话，那么还可以通过关键字进行进一步的过滤，如图（关键字输入框）所示。</p></blockquote><center><img src="/2021/06/26/%E4%BD%BF%E7%94%A8Android%E7%9A%84%E6%97%A5%E5%BF%97%E5%B7%A5%E5%85%B7Log/关键字输入框.png" width="90%" height="90%"> 关键字输入框</center><blockquote><p>我们可以在输入框里输入关键字的内容，这样只有符合关键字条件的日志才会显示出来，从而能够快速定位到任何你想査看的日志。另外还有一点需要注意，关键字过滤是支持正则表达式的，有了这个特性，我们就可以构建出更加丰富的过滤条件。</p></blockquote><!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]--><audio id="audio" loop preload="auto" controls data-autoplay="true"><source type="audio/mpeg" src=""></audio><ul id="audio-list" style="display:none"><li title="0" data-url="https://link.hhtjim.com/163/4989670.mp3"></li><li title="1" data-url="https://link.hhtjim.com/163/214374.mp3"></li><li title="2" data-url="https://link.hhtjim.com/163/443794.mp3"></li><li title="3" data-url="https://link.hhtjim.com/163/28188450.mp3"></li><li title="4" data-url="https://link.hhtjim.com/163/29816860.mp3"></li><li title="5" data-url="https://link.hhtjim.com/163/4940920.mp3"></li><li title="6" data-url="https://link.hhtjim.com/163/443860.mp3"></li><li title="7" data-url="https://link.hhtjim.com/163/4940920.mp3"></li><li title="8" data-url="https://link.hhtjim.com/163/1825230064.mp3"></li><li title="9" data-url="https://link.hhtjim.com/163/27570832.mp3"></li><li title="10" data-url="https://link.hhtjim.com/163/28285777.mp3"></li><li title="11" data-url="https://link.hhtjim.com/163/68622.mp3"></li><li title="12" data-url="https://link.hhtjim.com/163/4968365.mp3"></li><li title="13" data-url="https://link.hhtjim.com/163/4968352.mp3"></li><li title="14" data-url="https://link.hhtjim.com/163/28378263.mp3"></li><li title="15" data-url="https://link.hhtjim.com/163/1461262038.mp3"></li><li title="16" data-url="https://link.hhtjim.com/163/1821680008.mp3"></li><li title="17" data-url="https://link.hhtjim.com/163/1404997257.mp3"></li></ul></div></div><div class="side"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8E%8C%E6%8F%A1%E6%97%A5%E5%BF%97%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.</span> <span class="toc-text">掌握日志工具的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Android%E7%9A%84%E6%97%A5%E5%BF%97%E5%B7%A5%E5%85%B7Log"><span class="toc-number">1.1.</span> <span class="toc-text">使用Android的日志工具Log</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Log-v"><span class="toc-number">1.1.1.</span> <span class="toc-text">Log.v()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Log-d"><span class="toc-number">1.1.2.</span> <span class="toc-text">Log.d()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Log-i"><span class="toc-number">1.1.3.</span> <span class="toc-text">Log.i()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Log-W"><span class="toc-number">1.1.4.</span> <span class="toc-text">Log.W()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Log-e"><span class="toc-number">1.1.5.</span> <span class="toc-text">Log.e()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Log-d-%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-number">1.1.6.</span> <span class="toc-text">Log.d()方法的参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#logcat%E4%B8%AD%E7%9A%84%E6%89%93%E5%8D%B0%E4%BF%A1%E6%81%AF"><span class="toc-number">1.1.7.</span> <span class="toc-text">logcat中的打印信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8Log%E8%80%8C%E4%B8%8D%E4%BD%BF%E7%94%A8System-out"><span class="toc-number">1.2.</span> <span class="toc-text">为什么使用Log而不使用System.out</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#System-out-println-%E6%96%B9%E6%B3%95%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-number">1.2.1.</span> <span class="toc-text">System.out.println()方法的缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#logcat%E7%9A%84%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">1.2.2.</span> <span class="toc-text">logcat的过滤器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Show-only-selected-application"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">Show only selected application</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Firebase"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">Firebase</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#No-Filters"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">No Filters</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">1.2.3.</span> <span class="toc-text">自定义过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#logcat%E4%B8%AD%E7%9A%84%E6%97%A5%E5%BF%97%E7%BA%A7%E5%88%AB"><span class="toc-number">1.2.4.</span> <span class="toc-text">logcat中的日志级别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E8%BF%87%E6%BB%A4"><span class="toc-number">1.2.5.</span> <span class="toc-text">关键字过滤</span></a></li></ol></li></ol></li></ol></div></div></div></div></body><script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script><script src="/js/plugin.js"></script><script src="/js/typed.js"></script><script src="/js/diaspora.js"></script><link rel="stylesheet" href="/photoswipe/photoswipe.css"><link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css"><script src="/photoswipe/photoswipe.min.js"></script><script src="/photoswipe/photoswipe-ui-default.min.js"></script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></html><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?6af129e1f4dfb540b30b7969d7e7fc32";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>