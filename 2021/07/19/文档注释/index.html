<!DOCTYPE html><html lang="zh-CN" class="loading"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><title>文档注释 - 黄子涵</title><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="google" content="notranslate"><meta name="keywords" content="黄子涵,"><meta name="description" content="文档注释
JDK包含一个很有用的工具，叫做javadoc，它可以由源文件生成一个HTML文档。事实上，联机API文档就是通过对标准Java类库的源代码运行javadoc生成的。
如果在源代码中添加以,"><meta name="author" content="黄子涵"><link rel="alternative" href="atom.xml" title="黄子涵" type="application/atom+xml"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="/css/diaspora.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism-atom-dark.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script>
<script src="/js/prism-line-numbers.min.js"></script></head><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><body class="loading"><span id="config-title" style="display:none">黄子涵</span><div id="loader"></div><div id="single"><div id="top" style="display:block"><div class="bar" style="width:0"></div><a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://www.huangzihan.top"></a><div title="播放/暂停" class="iconfont icon-play"></div><h3 class="subtitle">文档注释</h3><div class="social"><div><div class="share"><a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a></div><div id="qr"></div></div></div><div class="scrollbar"></div></div><div class="section"><div class="article"><div class="main"><h1 class="title">文档注释</h1><div class="stuff"><span>七月 19, 2021</span></div><div class="content markdown"><h1 id="文档注释"><a href="#文档注释" class="headerlink" title="文档注释"></a>文档注释</h1><blockquote><p>JDK包含一个很有用的工具，叫做<strong>javadoc</strong>，它可以由源文件生成一个HTML文档。事实上，联机API文档就是通过对标准Java类库的源代码运行<strong>javadoc</strong>生成的。</p><p>如果在源代码中添加以特殊定界符/**开始的注释，你也可以很容易地生成一个看上去具有专业水准的文档。这是一种很好的方法，因为这样可以将代码与注释放在一个地方。如果将文档存放在一个独立的文件中，就有可能会随着时间的推移出现代码和注释不一致的问题。然而，由于文档注释与源代码在同一个文件中，在修改源代码的同时，重新运行javadoc就可以轻而易举地保持两者的一致性。</p></blockquote><h2 id="注释的插入"><a href="#注释的插入" class="headerlink" title="注释的插入"></a>注释的插入</h2><h3 id="javadoc实用工具"><a href="#javadoc实用工具" class="headerlink" title="javadoc实用工具"></a>javadoc实用工具</h3><p><strong>javadoc</strong>实用工具从下面几项中抽取信息：</p><ul><li>模块；</li><li>包；</li><li>公共类与接口；</li><li>公共的和受保护的字段；</li><li>公共的和受保护的构造器及方法。</li></ul><blockquote><p>可以（而且应该）为以上各个特性编写注释。注释放置在所描述特性的前面。注释以/<em>*开始，并以</em>/结束。</p><p>每个<code>/** . . . */</code>文档注释包含标记以及之后紧跟着的<strong>自由格式文本</strong>（free-form text）。标记以@开始，如<code>@since</code>或<code>@param</code>。</p><p>自由格式文本的<strong>第一句</strong>应该是一个<strong>概要性</strong>的句子。<strong>javadoc</strong>工具自动地将这些句子抽取出来生成概要页。</p><p>在自由格式文本中，可以使用HTML修饰符，例如，用于强调的<code>&lt;em&gt;...&lt;/em&gt;</code>、用于着重强调的<code>&lt;stron&gt;...&lt;/strong&gt;</code>、用于项目符号列表的<code>&lt;ul&gt;/&lt;li&gt;</code>以及用于包含图像的<code>&lt;img ...&gt;</code>等。要键入等宽代码，需要使用<code>&#123;@code ...&#125;</code>而不是<code>&lt;code&gt;...&lt;/code&gt;</code>——这样一来，就不用操心对代码中的&lt;字符转义了。</p></blockquote><span id="more"></span><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><blockquote><p>如果文档中有到其他文件的链接，如图像文件（例如，图表或用户界面组件的 图像），就应该将这些文件放到包含源文件的目录下的一个子目录<strong>doc-files</strong>中。<strong>javadoc</strong>工具将从源目录将<strong>doc-files</strong>目录及其内容拷贝到文档目录中。在链接中需要使用<strong>doc-files</strong>目录，例如：<code>&lt;img src=&quot;doc-files/uml.png&quot; alt=&quot;UML diagram&quot;/&gt;</code>。</p></blockquote><h2 id="类注释"><a href="#类注释" class="headerlink" title="类注释"></a>类注释</h2><blockquote><p>类注释必须放在<strong>import</strong>语句之后，类定义之前。</p><p>下面是一个类注释的例子：</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">&#x2F;**
* A &#123;@code Card&#125; object represents a playing card, such
* as &quot;Queen of Hearts&quot;. A card has a suit (Diamond, Heart,
* Spade or Club) and a value (1 &#x3D; Ace, 2 . . . 10, 11 &#x3D; Jack,
* 12 &#x3D; Queen, 13 &#x3D; King)
*&#x2F;
public class Card
&#123;
    . . . 
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="注释-1"><a href="#注释-1" class="headerlink" title="注释"></a>注释</h3><blockquote><p>没有必要在每一行的开始都添加星号*，例如，以下注释同样是合法的：</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">&#x2F;**
A &lt;code&gt;Card&lt;&#x2F;code&gt; object represents a playing card, such 
as &quot;Queen of Hearts&quot;. A card has a suit (Diamond, Heart, 
Spade or Club) and a value (1 &#x3D; Ace, 2 . . . 10, 11 &#x3D; Jack, 
12 &#x3D; Queen, 13 &#x3D; King).
*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>不过，大部分IDE会自动提供星号*，而且换行改变时，还会重新放置星号。</p></blockquote><h2 id="方法注释"><a href="#方法注释" class="headerlink" title="方法注释"></a>方法注释</h2><blockquote><p>每一个方法注释必须放在所描述的方法之前。除了通用标记之外，还可以使用下面的标记：</p></blockquote><ul><li>@param variable description</li></ul><blockquote><p>这个标记将给当前方法的“parameters”（参数）部分添加一个条目。这个描述可以占据多行，并且可以使用HTML标记。一个方法的所有<code>@param</code>标记必须放在一起。</p></blockquote><ul><li>@return description</li></ul><blockquote><p>这个标记将给当前方法添加“returns”（返回）部分。这个描述可以跨多行，并且可以使用HTML标记。</p></blockquote><ul><li>@throws class description</li></ul><blockquote><p>这个标记将添加一个注释，表示这个方法有可能抛出异常。</p><p>下面是一个方法注释的示例：</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">&#x2F;**
* Raises the salary of an employee.
* @param byPercent the percentage by which to raise the salary (e.g., 10 means 10%)
* @return the amount of the raise
*&#x2F;
public double raiseSalary(double byPercent)
&#123;
    double raise &#x3D; salary * byPercent &#x2F; 100;
    salary +&#x3D; raise; 
    return raise;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="字段注释"><a href="#字段注释" class="headerlink" title="字段注释"></a>字段注释</h2><blockquote><p>只需要对公共字段（通常指的是静态常量）建立文档。例如，</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">&#x2F;**
* The &quot;Hearts&quot; card suit
*&#x2F;
public static final int HEARTS &#x3D; 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="通用注释"><a href="#通用注释" class="headerlink" title="通用注释"></a>通用注释</h2><blockquote><p>标记<code>@since text</code>会建立一个“since”（始于）条目。<strong>text</strong>（<strong>文本</strong>）可以是引入这个特性的版 本的任何描述。例如，<code>@sincel.7.1</code>。<br>下面的标记可以用在类文档注释中。</p></blockquote><ul><li>@author name</li></ul><blockquote><p>这个标记将产生一个“author”（作者）条目。可以使用多个<code>@author</code>标记，每个<code>@author</code> 标记对应一个作者。并不是非得使用这个标记，你的版本控制系统能够更好地跟踪作者。</p></blockquote><ul><li>©version text</li></ul><blockquote><p>这个标记将产生一个“version”（版本）条目。这里的文本可以是对当前版本的任何描述。</p><p>通过<code>@see</code>和<code>@link</code>标记，可以使用超链接，链接到<strong>javadoc</strong>文档的相关部分或外部文档。</p><p>标记<code>@see reference</code>将在“see also”（参见）部分增加一个超链接。它可以用于类中，也可以用于方法中。这里的<strong>reference</strong>（引用）可以有以下选择：</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">package.class#feature label
&lt;a href&#x3D;&quot;. . .&quot;&gt;label&lt;&#x2F;a&gt;
&quot;text&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>第一种情况是最有用的。只要提供类、方法或变量的名字，<strong>javadoc</strong>就在文档中插入一个超链接。例如，</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">@see com.horstmann.corejava.Employee#raiseSalary(double)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>这会建立一个链接到<strong>com.horstmann.corejava.Employee</strong>类的<strong>raiseSalary(double)</strong>方法的超链接。可以省略包名，甚至把包名和类名都省去，这样一来，这会位于当前包或当前类中。</p><p>需要注意，一定要使用井号（#），而不要使用句号（.）分隔类名与方法名，或类名与变量名。Java编译器自身可以熟练地确定句点在分隔包、子包、类、内部类与方法和变量时的不同含义。但是<strong>javadoc</strong>工具就没有这么聪明了，因此必须对它提供帮助。</p><p>如果<code>@see</code>标记后面有一个&lt;字符，就需要指定一个超链接。可以超链接到任何URL。</p><p>例如：</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">@see &lt;a href&#x3D;&quot;www.horstmann.com&#x2F;corejava.html&quot;&gt;The Core Java home page&lt;&#x2F;a&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>在上述各种情况下，都可以指定一个可选的<strong>标签</strong>（label）作为链接锚（link anchor）。如果省略了标签，用户看到的锚就是目标代码名或URL。</p><p>如果<code>@see</code>标记后面有一个双引号(“)字符，文本就会显示在“see also”部分。例如，</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">@see &quot;Core Java 2 volume 2&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>可以为一个特性添加多个<code>@see</code>标记，但必须将它们放在一起。</p><p>如果愿意，还可以在文档注释中的任何位置放置指向其他类或方法的超链接。可以在注释中的任何位置插入一个形式如下的特殊标记：</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">&#123;@link package.class#feature label&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>这里的特性描述规则与<code>@see</code>标记的规则相同。</p><p>最后，在Java 9中，还可以使用{@index entry}标记为搜索框增加一个条目。</p></blockquote><h2 id="包注释"><a href="#包注释" class="headerlink" title="包注释"></a>包注释</h2><blockquote><p>可以直接将类、方法和变量的注释放置在Java源文件中，只要用<code>/** . . . */</code>文档注释界定就可以了。但是，要想产生<strong>包</strong>注释，就需要在每一个包目录中添加一个单独的文件。可以有如下两个选择：</p></blockquote><ol><li><p>提供一个名为<strong>package-info.java</strong>的Java文件。这个文件必须包含一个初始的以<code>/**</code>和<code>*/</code>界定的Javadoc注释，后面是一个<strong>package</strong>语句。它不能包含更多的代码或注释。</p></li><li><p>提供一个名为<strong>package.html</strong>的HTML文件。会抽取标记<code>&lt;body&gt;...&lt;/body&gt;</code>之间的所有文本。</p></li></ol><h2 id="注释抽取"><a href="#注释抽取" class="headerlink" title="注释抽取"></a>注释抽取</h2><blockquote><p>在这里，假设你希望HTML文件将放在名为docDirectory的目录下。执行以下步骤：</p></blockquote><ol><li><p>切换到包含想要生成文档的源文件的目录。如果有嵌套的包要生成文档，例如<strong>com.horstmann.corejava</strong>，就必须切换到包含子目录<strong>com</strong>的目录（如果提供了<strong>overview.html</strong>文件的话, 这就是这个文件所在的目录)。</p></li><li><p>如果是一个包，应该运行命令：</p></li></ol><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">javadoc -d docDirectory nameOfPackage<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>或者，如果要为多个包生成文档，运行：</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">javadoc -d docDirectory nameOfPackage1 nameOfPackage2. . .<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>如果文件在无名的包中，就应该运行：</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">javadoc -d docDirectory *.java<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>如果省略了<code>-d docDirectory</code>选项，那HTML文件就会被提取到当前目录下。这样有可能会带来混乱，因此不提倡这种做法。</p><p>可以使用很多命令行选项对<strong>javadoc</strong>程序进行优化。例如，可以使用<code>-author</code>和<code>-version</code>选项在文档中包含<code>@author</code>和<code>@version</code>标记（默认情况下，这些标记会被省略）。另一个很有用的选项是<code>-link</code>，用来为标准类添加超链接。例如，如果使用命令</p></blockquote><pre class="line-numbers language-C/C++" data-language="C/C++"><code class="language-C/C++">javadoc -link http:&#x2F;&#x2F;docs.oracle.eom&#x2F;javase&#x2F;9&#x2F;docs&#x2F;api *.java<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>那么，所有的标准类库类都会自动地链接到Oracle网站的文档。</p><p>如果使用<code>-linksource</code>选项，每个源文件将会转换为HTML（不对代码着色，但包含行号），并且每个类和方法名将变为指向源代码的超链接。</p><p>还可以为所有的源文件提供一个概要注释。把它放在一个类似<strong>overview.html</strong>的文件中，运行<strong>javadoc</strong>工具，并提供命令行选项<code>-overview filename</code>。将抽取标记<code>&lt;body&gt;...&lt;/body&gt;</code>之间的所有文本。当用户从导航栏中选择“Overview”时，就会显示出这些内容。</p><p>有关其他的选项，请查阅<strong>javadoc</strong>工具的联机文档**<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/9/javadoc/javadoc.htm。">https://docs.oracle.com/javase/9/javadoc/javadoc.htm。</a></p></blockquote><!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]--><audio id="audio" loop preload="auto" controls data-autoplay="true"><source type="audio/mpeg" src=""></audio><ul id="audio-list" style="display:none"><li title="0" data-url="https://link.hhtjim.com/163/4989670.mp3"></li><li title="1" data-url="https://link.hhtjim.com/163/214374.mp3"></li><li title="2" data-url="https://link.hhtjim.com/163/443794.mp3"></li><li title="3" data-url="https://link.hhtjim.com/163/28188450.mp3"></li><li title="4" data-url="https://link.hhtjim.com/163/29816860.mp3"></li><li title="5" data-url="https://link.hhtjim.com/163/4940920.mp3"></li><li title="6" data-url="https://link.hhtjim.com/163/443860.mp3"></li><li title="7" data-url="https://link.hhtjim.com/163/4940920.mp3"></li><li title="8" data-url="https://link.hhtjim.com/163/1825230064.mp3"></li><li title="9" data-url="https://link.hhtjim.com/163/27570832.mp3"></li><li title="10" data-url="https://link.hhtjim.com/163/28285777.mp3"></li><li title="11" data-url="https://link.hhtjim.com/163/68622.mp3"></li><li title="12" data-url="https://link.hhtjim.com/163/4968365.mp3"></li><li title="13" data-url="https://link.hhtjim.com/163/4968352.mp3"></li><li title="14" data-url="https://link.hhtjim.com/163/28378263.mp3"></li><li title="15" data-url="https://link.hhtjim.com/163/1461262038.mp3"></li><li title="16" data-url="https://link.hhtjim.com/163/1821680008.mp3"></li><li title="17" data-url="https://link.hhtjim.com/163/1404997257.mp3"></li></ul></div></div><div class="side"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E6%B3%A8%E9%87%8A"><span class="toc-number">1.</span> <span class="toc-text">文档注释</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A%E7%9A%84%E6%8F%92%E5%85%A5"><span class="toc-number">1.1.</span> <span class="toc-text">注释的插入</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#javadoc%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7"><span class="toc-number">1.1.1.</span> <span class="toc-text">javadoc实用工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">1.1.2.</span> <span class="toc-text">注释</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E6%B3%A8%E9%87%8A"><span class="toc-number">1.2.</span> <span class="toc-text">类注释</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A-1"><span class="toc-number">1.2.1.</span> <span class="toc-text">注释</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E6%B3%A8%E9%87%8A"><span class="toc-number">1.3.</span> <span class="toc-text">方法注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E6%AE%B5%E6%B3%A8%E9%87%8A"><span class="toc-number">1.4.</span> <span class="toc-text">字段注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E7%94%A8%E6%B3%A8%E9%87%8A"><span class="toc-number">1.5.</span> <span class="toc-text">通用注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%85%E6%B3%A8%E9%87%8A"><span class="toc-number">1.6.</span> <span class="toc-text">包注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A%E6%8A%BD%E5%8F%96"><span class="toc-number">1.7.</span> <span class="toc-text">注释抽取</span></a></li></ol></li></ol></div></div></div></div></body><script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script><script src="/js/plugin.js"></script><script src="/js/typed.js"></script><script src="/js/diaspora.js"></script><link rel="stylesheet" href="/photoswipe/photoswipe.css"><link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css"><script src="/photoswipe/photoswipe.min.js"></script><script src="/photoswipe/photoswipe-ui-default.min.js"></script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></html><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?6af129e1f4dfb540b30b7969d7e7fc32";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>